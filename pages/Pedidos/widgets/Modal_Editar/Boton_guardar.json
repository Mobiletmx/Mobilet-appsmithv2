{
  "animateLoading": true,
  "borderRadius": "{{appsmith.theme.borderRadius.appBorderRadius}}",
  "bottomRow": 33,
  "boxShadow": "none",
  "buttonColor": "#22c55e",
  "buttonStyle": "PRIMARY_BUTTON",
  "buttonVariant": "PRIMARY",
  "disabledWhenInvalid": false,
  "dynamicBindingPathList": [
    {
      "key": "borderRadius"
    }
  ],
  "dynamicPropertyPathList": [
    {
      "key": "onClick"
    }
  ],
  "dynamicTriggerPathList": [
    {
      "key": "onClick"
    }
  ],
  "iconAlign": "right",
  "isDefaultClickDisabled": true,
  "isDisabled": false,
  "isLoading": false,
  "isVisible": true,
  "key": "281tt4cpdh",
  "leftColumn": 41,
  "minWidth": 120,
  "mobileBottomRow": 22,
  "mobileLeftColumn": 47,
  "mobileRightColumn": 63,
  "mobileTopRow": 18,
  "needsErrorInfo": false,
  "onClick": "{{\n(() => {\n  const trim = (v) => String(v ?? \"\").trim();\n  const has = (v) => trim(v).length > 0;\n\n  // 1) Validaciones de requeridos\n\n  // Ubicación\n  if (!select_one?.selectedOptionValue) {\n    showAlert(\"Selecciona la ubicación.\", \"warning\");\n    return;\n  }\n\n  // ID Baño\n  if (!select_four?.selectedOptionValue) {\n    showAlert(\"Selecciona el baño.\", \"warning\");\n    return;\n  }\n\n  // Fecha inicio (date_one)\n  if (!has(date_one?.selectedDate)) {\n    showAlert(\"Selecciona la fecha de inicio del pedido.\", \"warning\");\n    return;\n  }\n\n  // Precio sin IVA (input_four) > 0\n  const rawBase = input_four?.text ?? \"\";\n  const cleanBase = String(rawBase).replace(/,/g, \"\").trim();\n  const baseNum = Number(cleanBase);\n  if (!Number.isFinite(baseNum) || baseNum <= 0) {\n    showAlert(\"Captura el precio sin IVA y debe ser mayor a 0.\", \"warning\");\n    return;\n  }\n\n  // 2) Validación adicional de fechas (opcional): fin >= inicio\n  const ini = new Date(date_one.selectedDate);\n  const fin = new Date(date_two.selectedDate);\n  if (!isNaN(ini.getTime()) && !isNaN(fin.getTime()) && fin < ini) {\n    showAlert(\"La fecha de recolección no puede ser anterior a la fecha de inicio.\", \"warning\");\n    return;\n  }\n\n  // 3) Detectar cambio de baño\n  const idBanoOriginal = appsmith.store.bano_original_pedido || null;\n  const idBanoNuevo = select_four?.selectedOptionValue\n    ? String(select_four.selectedOptionValue).trim()\n    : null;\n\n  const huboCambio =\n    idBanoOriginal && idBanoNuevo\n      ? idBanoNuevo !== idBanoOriginal\n      : false;\n\n  // 4) Guardar en store la información relevante\n  storeValue(\"bano_nuevo_seleccionado\", idBanoNuevo, true);\n  storeValue(\"cambio_bano\", huboCambio, true);\n\n  // Mensaje para mostrar en el modal de confirmación\n  const msgCambio = huboCambio\n    ? `Se cambiará el baño del pedido: ${idBanoOriginal} → ${idBanoNuevo}`\n    : `No hay cambio de baño. Solo se actualizarán los datos del pedido.`;\n  storeValue(\"mensaje_cambio_bano\", msgCambio, true);\n\n  // 5) Abrir confirmación\n  resetWidget(\"Modal_confirmar_editar\", true); // limpia solo el modal de confirmación\n  showModal(\"Modal_confirmar_editar\");\n})()\n}}",
  "originalBottomRow": 33,
  "originalTopRow": 29,
  "parentId": "t6m6k5xey8",
  "placement": "CENTER",
  "recaptchaType": "V3",
  "renderMode": "CANVAS",
  "resetFormOnClick": false,
  "responsiveBehavior": "hug",
  "rightColumn": 51,
  "text": "Guardar cambios",
  "topRow": 29,
  "type": "BUTTON_WIDGET",
  "version": 1,
  "widgetId": "f99hm3bt9n",
  "widgetName": "Boton_guardar"
}