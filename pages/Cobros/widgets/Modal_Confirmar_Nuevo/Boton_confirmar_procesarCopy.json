{
  "animateLoading": false,
  "borderRadius": "{{appsmith.theme.borderRadius.appBorderRadius}}",
  "bottomRow": 48,
  "boxShadow": "none",
  "buttonColor": "#22c55e",
  "buttonStyle": "PRIMARY_BUTTON",
  "buttonVariant": "PRIMARY",
  "disabledWhenInvalid": false,
  "dynamicBindingPathList": [
    {
      "key": "borderRadius"
    },
    {
      "key": "isDisabled"
    }
  ],
  "dynamicPropertyPathList": [
    {
      "key": "isDisabled"
    },
    {
      "key": "onClick"
    }
  ],
  "dynamicTriggerPathList": [
    {
      "key": "onClick"
    }
  ],
  "isDefaultClickDisabled": true,
  "isDisabled": "{{ !Chk_entiendo_nuevo.isChecked }}",
  "isLoading": false,
  "isVisible": true,
  "key": "ffwdv9n8py",
  "leftColumn": 27,
  "minWidth": 120,
  "mobileBottomRow": 22,
  "mobileLeftColumn": 47,
  "mobileRightColumn": 63,
  "mobileTopRow": 18,
  "needsErrorInfo": false,
  "onClick": "{{\n(async () => {\n  // 0) Check obligatorio\n  if (!Chk_entiendo_nuevo?.isChecked) {\n    showAlert(\"Debes aceptar la confirmación para continuar.\", \"warning\");\n    return;\n  }\n\n  // 1) Leer draft (lo que capturaste en Modal_Nuevo)\n  const d = appsmith.store.nuevoCobroDraft || {};\n\n  // 2) Validación mínima de seguridad (por si el store no existe)\n  const idItem = String(d.id_item_pedido ?? \"\").trim();\n  const periodo = String(d.periodo_cobro ?? \"\").trim();\n  const costoNum = Number(d.costo);\n\n  if (!idItem || !periodo || !Number.isFinite(costoNum) || costoNum <= 0) {\n    showAlert(\"Faltan datos del cobro. Regresa al modal anterior y verifica la información.\", \"warning\");\n    return;\n  }\n\n  try {\n    // 3) Ejecutar insert (pasando params si tu query los usa)\n    await InsertCobros.run({\n      id_item_pedido: idItem,\n      periodo_cobro: periodo,\n      costo: costoNum,\n\n      // Campos ligados del Modal_Nuevo\n      id_bano: String(d.id_bano ?? \"\").trim(),\n      fecha_inicio: d.fecha_inicio ?? null,\n      fecha_fin: d.fecha_fin ?? null,\n\n      // Estos son informativos; normalmente no se insertan si vienen de joins,\n      // pero los paso por si tu query los guarda o los usas en logs.\n      nombre_cliente: String(d.nombre_cliente ?? \"\").trim(),\n      nombre_ubicacion: String(d.nombre_ubicacion ?? \"\").trim(),\n    });\n\n    showAlert(\"Cobro creado correctamente.\", \"success\");\n\n    // 4) Refrescar data\n    if (GetCobros?.run) await GetCobros.run();\n\n    // 5) Cerrar confirmación\n    closeModal(\"Modal_Confirmar_Nuevo\");\n\n    // 6) Limpiar Modal_Nuevo (solo después de éxito)\n    resetWidget(\"Modal_Nuevo\", true);\n\n    // 7) Cerrar Modal_Nuevo\n    closeModal(\"Modal_Nuevo\");\n\n    // 8) Limpiar draft (solo después de éxito)\n    await storeValue(\"nuevoCobroDraft\", null, true);\n\n  } catch (e) {\n    showAlert(\"Error al crear el cobro: \" + (e?.message || e), \"error\");\n    // Importante: NO cerrar modales, NO resetear, NO limpiar store\n  }\n})()\n}}\n",
  "originalBottomRow": 44,
  "originalTopRow": 40,
  "parentId": "ebujhyjp0f",
  "placement": "CENTER",
  "recaptchaType": "V3",
  "renderMode": "CANVAS",
  "resetFormOnClick": false,
  "responsiveBehavior": "hug",
  "rightColumn": 43,
  "text": "Confirmar",
  "topRow": 44,
  "type": "BUTTON_WIDGET",
  "version": 1,
  "widgetId": "06r5d6p96x",
  "widgetName": "Boton_confirmar_procesarCopy"
}