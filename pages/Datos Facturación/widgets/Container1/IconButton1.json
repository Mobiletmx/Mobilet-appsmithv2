{
  "animateLoading": true,
  "borderRadius": "{{appsmith.theme.borderRadius.appBorderRadius}}",
  "bottomRow": 14,
  "boxShadow": "none",
  "buttonColor": "#3b82f6",
  "buttonVariant": "PRIMARY",
  "dynamicBindingPathList": [
    {
      "key": "borderRadius"
    },
    {
      "key": "isVisible"
    }
  ],
  "dynamicPropertyPathList": [
    {
      "key": "onClick"
    },
    {
      "key": "isVisible"
    }
  ],
  "dynamicTriggerPathList": [
    {
      "key": "onClick"
    }
  ],
  "iconName": "plus",
  "isDisabled": false,
  "isLoading": false,
  "isVisible": "{{ PermisosUtils.tieneAcceso(\"Datos Facturación\") }}",
  "key": "zvud7tz6vk",
  "leftColumn": 50,
  "minWidth": 50,
  "mobileBottomRow": 4,
  "mobileLeftColumn": 58,
  "mobileRightColumn": 62,
  "mobileTopRow": 0,
  "needsErrorInfo": false,
  "onClick": "{{  \n(async () => {  \n  // 0) Reinicia el modal a sus valores por defecto  \n  resetWidget(\"Modal_Nuevo\", true);  \n  \n  // 1) Olvida cualquier fila que se estuviera editando  \n  await storeValue(\"cliente_edit_row\", null, true);  \n  \n  // 2) Limpia inputs de texto (independientes o valores por defecto)  \n  InputIdCliente_new.setValue(\"\");  \n  dia_de_corte_new.setValue(\"\");  \n  email_cliente_new.setValue(\"\");  \n  celular_cliente_new.setValue(\"\");  \n  comentario_cliente_new.setValue(\"\");  \n  razon_social.setValue(\"\");  \n  rfc_facturacion.setValue(\"\");  \n  domicilio_fiscal.setValue(\"\");  \n  codigo_postal_rfc.setValue(\"\");  \n  regimen_fiscal.setSelectedOption(\"\");  \n  uso_de_cfdi.setSelectedOption(\"\");  \n  forma_de_pago.setSelectedOption(\"\");  \n  metodo_de_pago.setSelectedOption(\"\");  \n  notas_rfc.setValue(\"\");  \n  \n  // 3) Limpia selects / menús  \n  prefijo_nombre_cliente?.setSelectedOption(null);  \n  tipo_cliente?.setSelectedOption(null);  \n  regimen_fiscal?.setSelectedOption(null);  \n  uso_de_cfdi?.setSelectedOption(null);  \n  forma_de_pago?.setSelectedOption(null);  \n  dia_de_corte?.setSelectedOption(null);  \n  \n  // 4) Switches  \n  requiere_factura_new?.setValue(true);  \n  lista_negra_new?.setValue(false);  \n  \n  // 5) ¡No tocar! id_cliente y estatus_cliente se controlan con bindings (se dejan en blanco si no hay selección)  \n  \n  // 6) Marca el modo \"Nuevo cliente\"  \n  nuevo_cliente_new?.setDisabled(false);  \n  nuevo_cliente_new?.setValue(true);  \n  \n  // 7) Si hay un cliente seleccionado en el dropdown, revisa si le faltan datos en GetClientes  \n  const selectedId = dropdownNombreCliente_new?.selectedOptionValue;  \n  if (selectedId && GetClientes?.data) {  \n    const sel = GetClientes.data.find(c => c.id_cliente == selectedId);  \n    if (sel) {  \n      const missing = [];  \n      // Campos que nos interesa validar vienen desde GetClientes  \n      if (!sel.estatus_cliente && sel.estatus_cliente !== 0) missing.push(\"estatus_cliente\");  \n      if (!sel.email_cliente) missing.push(\"email_cliente\");  \n      if (!sel.celular_cliente) missing.push(\"celular_cliente\");  \n      if (typeof sel.lista_negra === \"undefined\" || sel.lista_negra === null) missing.push(\"lista_negra\");  \n      if (typeof sel.requiere_factura === \"undefined\" || sel.requiere_factura === null) missing.push(\"requiere_factura\");  \n      if (!sel.comentario_cliente) missing.push(\"comentario_cliente\");  \n      if (!sel.tipo_cliente) missing.push(\"tipo_cliente\");  \n  \n      if (missing.length > 0) {  \n        showAlert(\"Faltan datos desde GetClientes para este cliente: \" + missing.join(\", \"), \"warning\", 8000);  \n      }  \n    } else {  \n      showAlert(\"El cliente seleccionado no se encontró en GetClientes.\", \"error\");  \n    }  \n  } else {  \n    // Sin selección: informamos que abrirán un modal vacío para crear nuevo cliente  \n    // (no es un error, solo info)  \n    // showAlert(\"Creando nuevo cliente. Complete los campos.\", \"info\", 3000);  \n  }  \n  \n  // 8) Abre el modal  \n  showModal(\"Modal_Nuevo\");  \n})();  \n}}",
  "originalBottomRow": 9,
  "originalTopRow": 5,
  "parentColumnSpace": 8.974609375,
  "parentId": "a8jmqjnn68",
  "parentRowSpace": 10,
  "renderMode": "CANVAS",
  "responsiveBehavior": "hug",
  "rightColumn": 52,
  "topRow": 8,
  "type": "ICON_BUTTON_WIDGET",
  "version": 1,
  "widgetId": "axhb2yn7f7",
  "widgetName": "IconButton1"
}